<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - Datagres</title>
    <meta name="description" content="Documentation for Datagres - The Lightning-Fast PostgreSQL Explorer">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
        }
        
        .nav-links a:hover {
            color: #667eea;
        }
        
        .docs-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
            margin-top: 2rem;
            min-height: calc(100vh - 200px);
        }
        
        .sidebar {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            height: fit-content;
            position: sticky;
            top: 80px;
        }
        
        .sidebar h3 {
            margin-bottom: 1rem;
            color: #667eea;
        }
        
        .sidebar ul {
            list-style: none;
        }
        
        .sidebar li {
            margin-bottom: 0.5rem;
        }
        
        .sidebar a {
            text-decoration: none;
            color: #666;
            display: block;
            padding: 0.5rem 0;
        }
        
        .sidebar a:hover {
            color: #667eea;
        }
        
        .content {
            background: white;
            padding: 3rem;
            border-radius: 8px;
        }
        
        .content h1 {
            margin-bottom: 2rem;
            color: #667eea;
        }
        
        .content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #333;
        }
        
        .content h3 {
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: #555;
        }
        
        .content p {
            margin-bottom: 1rem;
        }
        
        .content code {
            background: #f4f4f4;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.9em;
        }
        
        .content pre {
            background: #f4f4f4;
            padding: 1rem;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 1rem;
        }
        
        .content pre code {
            background: none;
            padding: 0;
        }
        
        .architecture-img {
            max-width: 100%;
            margin: 2rem 0;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .keyboard-shortcuts {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        
        .shortcut-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .shortcut-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .shortcut-key {
            font-family: monospace;
            background: white;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            border: 1px solid #ddd;
            font-size: 0.9em;
        }
        
        footer {
            text-align: center;
            padding: 2rem 0;
            color: #666;
            margin-top: 4rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div style="font-size: 1.5rem; font-weight: bold;">
                    <a href="index.html" style="text-decoration: none; color: #333;">Datagres</a>
                </div>
                <div class="nav-links">
                    <a href="index.html">Home</a>
                    <a href="documentation.html">Documentation</a>
                    <a href="https://github.com/seepatcode/datagres/releases">Download</a>
                    <a href="https://github.com/seepatcode/datagres">GitHub</a>
                </div>
            </nav>
        </div>
    </header>
    
    <div class="container">
        <div class="docs-container">
            <aside class="sidebar">
                <h3>Documentation</h3>
                <ul>
                    <li><a href="#getting-started">Getting Started</a></li>
                    <li><a href="#installation">Installation</a></li>
                    <li><a href="#connecting">Connecting to Database</a></li>
                    <li><a href="#keyboard-shortcuts">Keyboard Shortcuts</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#architecture">Architecture</a></li>
                    <li><a href="#troubleshooting">Troubleshooting</a></li>
                </ul>
            </aside>
            
            <main class="content">
                <h1>Documentation</h1>
                
                <section id="getting-started">
                    <h2>Getting Started</h2>
                    <p>Datagres is designed to be the fastest way to explore your PostgreSQL databases. With zero configuration required, you can connect to your database and start browsing data in under 15 seconds.</p>
                    
                    <h3>Quick Start</h3>
                    <ol>
                        <li>Download Datagres for your platform</li>
                        <li>Launch the application</li>
                        <li>Paste your PostgreSQL connection string</li>
                        <li>Press Enter to connect</li>
                        <li>Start exploring your data!</li>
                    </ol>
                </section>
                
                <section id="installation">
                    <h2>Installation</h2>
                    
                    <h3>Download Pre-built Binaries</h3>
                    <p>Download the latest release from the <a href="https://github.com/seepatcode/datagres/releases">releases page</a>.</p>
                    
                    <h3>macOS</h3>
                    <p>Since Datagres is now code-signed with an Apple Developer ID, you can download and run it directly. Simply double-click the DMG file and drag Datagres to your Applications folder.</p>
                    
                    <h3>Windows</h3>
                    <p>Download the <code>.exe</code> installer and run it. Follow the installation wizard to complete the setup.</p>
                    
                    <h3>Linux</h3>
                    <p>Download the <code>.AppImage</code> file, make it executable, and run:</p>
                    <pre><code>chmod +x Datagres-*.AppImage
./Datagres-*.AppImage</code></pre>
                    
                    <h3>Build from Source</h3>
                    <pre><code># Clone the repository
git clone https://github.com/seepatcode/datagres.git
cd datagres

# Install dependencies
pnpm install

# Run in development mode
pnpm run dev

# Build for production
pnpm run build
pnpm run dist</code></pre>
                </section>
                
                <section id="connecting">
                    <h2>Connecting to a Database</h2>
                    
                    <h3>Connection String Format</h3>
                    <p>Datagres accepts standard PostgreSQL connection strings:</p>
                    <pre><code>postgresql://username:password@host:port/database</code></pre>
                    
                    <h3>Examples</h3>
                    <ul>
                        <li><strong>Local database:</strong> <code>postgresql://user:pass@localhost:5432/mydb</code></li>
                        <li><strong>Remote database:</strong> <code>postgresql://user:pass@db.example.com:5432/production</code></li>
                        <li><strong>SSL connection:</strong> <code>postgresql://user:pass@host:5432/db?sslmode=require</code></li>
                    </ul>
                    
                    <h3>Saving Connections</h3>
                    <p>After connecting, click the "Save Connection" button to store it for quick access later. Your connection details are encrypted and passwords are stored securely in your OS keychain.</p>
                </section>
                
                <section id="keyboard-shortcuts">
                    <h2>Keyboard Shortcuts</h2>
                    
                    <div class="keyboard-shortcuts">
                        <h3>Essential Shortcuts</h3>
                        <div class="shortcut-grid">
                            <div class="shortcut-item">
                                <span>Quick table search</span>
                                <span class="shortcut-key">Shift+Shift</span>
                            </div>
                            <div class="shortcut-item">
                                <span>New connection</span>
                                <span class="shortcut-key">Cmd+N</span>
                            </div>
                            <div class="shortcut-item">
                                <span>Show all shortcuts</span>
                                <span class="shortcut-key">Cmd+/</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="keyboard-shortcuts">
                        <h3>Navigation</h3>
                        <div class="shortcut-grid">
                            <div class="shortcut-item">
                                <span>Jump to tab 1-9</span>
                                <span class="shortcut-key">Cmd+1-9</span>
                            </div>
                            <div class="shortcut-item">
                                <span>Navigate back</span>
                                <span class="shortcut-key">Cmd+[</span>
                            </div>
                            <div class="shortcut-item">
                                <span>Navigate forward</span>
                                <span class="shortcut-key">Cmd+]</span>
                            </div>
                            <div class="shortcut-item">
                                <span>Close tab</span>
                                <span class="shortcut-key">Cmd+W</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="keyboard-shortcuts">
                        <h3>Table View</h3>
                        <div class="shortcut-grid">
                            <div class="shortcut-item">
                                <span>Execute search</span>
                                <span class="shortcut-key">Cmd+Enter</span>
                            </div>
                            <div class="shortcut-item">
                                <span>Edit cell</span>
                                <span class="shortcut-key">Enter</span>
                            </div>
                            <div class="shortcut-item">
                                <span>Cancel edit</span>
                                <span class="shortcut-key">Esc</span>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section id="features">
                    <h2>Features</h2>
                    
                    <h3>Quick Table Search</h3>
                    <p>Press <code>Shift+Shift</code> to instantly search through all tables in your database. This Spotlight-like feature helps you find tables quickly without navigating through the sidebar.</p>
                    
                    <h3>Infinite Scrolling</h3>
                    <p>Browse millions of rows seamlessly. Datagres automatically loads more data as you scroll, providing a smooth experience even with large datasets.</p>
                    
                    <h3>Smart SQL Editor</h3>
                    <p>The built-in Monaco editor provides intelligent SQL autocompletion, including:</p>
                    <ul>
                        <li>Table and column name suggestions</li>
                        <li>SQL keyword highlighting</li>
                        <li>Context-aware completions</li>
                        <li>Syntax error detection</li>
                    </ul>
                    
                    <h3>Secure Connection Management</h3>
                    <p>Your database credentials are stored securely:</p>
                    <ul>
                        <li>Connection metadata encrypted with electron-store</li>
                        <li>Passwords stored in OS keychain (macOS Keychain, Windows Credential Manager, Linux Secret Service)</li>
                        <li>Automatic SSL for cloud providers (AWS, Heroku, Azure, Google Cloud)</li>
                    </ul>
                </section>
                
                <section id="architecture">
                    <h2>Architecture</h2>
                    
                    <h3>Overview</h3>
                    <p>Datagres follows Electron's three-process architecture for security and performance:</p>
                    
                    <img src="architecture.svg" alt="Architecture Diagram" class="architecture-img">
                    
                    <h3>Process Model</h3>
                    <ul>
                        <li><strong>Main Process:</strong> Handles database connections, IPC communication, and system operations</li>
                        <li><strong>Renderer Process:</strong> React application providing the user interface</li>
                        <li><strong>Preload Script:</strong> Secure bridge between main and renderer processes</li>
                    </ul>
                    
                    <h3>Data Flow</h3>
                    <img src="data-flow-simple.svg" alt="Data Flow Diagram" class="architecture-img">
                    
                    <p>The data flow follows this pattern:</p>
                    <ol>
                        <li>User action in the UI (Renderer process)</li>
                        <li>React Query mutation triggers IPC call</li>
                        <li>Preload script validates and forwards to Main process</li>
                        <li>Main process executes PostgreSQL query</li>
                        <li>Results flow back through the same path</li>
                        <li>UI updates with new data</li>
                    </ol>
                </section>
                
                <section id="troubleshooting">
                    <h2>Troubleshooting</h2>
                    
                    <h3>Connection Issues</h3>
                    
                    <h4>SSL Certificate Errors</h4>
                    <p>If you're connecting to a cloud database (Heroku, AWS, etc.) and see SSL errors, Datagres should automatically detect and configure SSL. If issues persist, try adding <code>?sslmode=require</code> to your connection string.</p>
                    
                    <h4>Authentication Failed</h4>
                    <p>Ensure your connection string is properly formatted and credentials are correct. Common issues:</p>
                    <ul>
                        <li>Special characters in passwords need to be URL-encoded</li>
                        <li>Ensure the database name is correct</li>
                        <li>Check if your IP is whitelisted in cloud provider settings</li>
                    </ul>
                    
                    <h3>Performance Issues</h3>
                    
                    <h4>Slow Table Loading</h4>
                    <p>For very large tables:</p>
                    <ul>
                        <li>Use the search/filter feature to reduce dataset size</li>
                        <li>Consider adding indexes to frequently queried columns</li>
                        <li>The virtual scrolling should handle millions of rows, but network latency may affect initial load</li>
                    </ul>
                    
                    <h3>Getting Help</h3>
                    <p>If you encounter issues not covered here:</p>
                    <ul>
                        <li>Check the <a href="https://github.com/seepatcode/datagres/issues">GitHub Issues</a></li>
                        <li>Report new issues with detailed error messages</li>
                        <li>Join the discussion in the repository</li>
                    </ul>
                </section>
            </main>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>Datagres is open source and released under the Unlicense</p>
            <p>Made with ❤️ for the database community</p>
        </div>
    </footer>
</body>
</html>